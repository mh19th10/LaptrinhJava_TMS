<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá th·ªëng qu·∫£n l√Ω d·∫°y th√™m h·ªçc th√™m - TMS</title>
    <style>
        /* Gi·ªØ nguy√™n to√†n b·ªô CSS nh∆∞ c≈© */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #1abc9c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --text-color: #333;
            --text-light: #7f8c8d;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        body {
            background-color: #f5f7fa;
            color: var(--text-color);
            display: flex;
            min-height: 100vh;
        }

        /* Header Styles */
        .header {
            background-color: white;
            box-shadow: var(--shadow);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            height: 70px;
        }

        .header-left h1 {
            font-size: 20px;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 14px;
            color: var(--text-light);
            font-weight: normal;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }

        /* Gi·ªØ nguy√™n ph·∫ßn CSS c√≤n l·∫°i... */
        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background-color: var(--primary-color);
            color: white;
            position: fixed;
            top: 70px;
            left: 0;
            height: calc(100vh - 70px);
            overflow-y: auto;
            transition: all 0.3s;
            z-index: 99;
        }

        .sidebar-menu {
            list-style: none;
            padding: 20px 0;
        }

        .menu-item {
            padding: 12px 25px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .menu-item:hover {
            background-color: var(--dark-color);
        }

        .menu-item.active {
            background-color: var(--secondary-color);
            border-left: 4px solid var(--accent-color);
        }

        .menu-item i {
            width: 20px;
            text-align: center;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            margin-left: 250px;
            margin-top: 70px;
            padding: 30px;
            transition: all 0.3s;
        }

        .page-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 20px;
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-color);
        }

        .card-value {
            font-size: 28px;
            font-weight: bold;
            color: var(--secondary-color);
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .bg-primary {
            background-color: var(--primary-color);
        }

        .bg-secondary {
            background-color: var(--secondary-color);
        }

        .bg-accent {
            background-color: var(--accent-color);
        }

        .bg-warning {
            background-color: var(--warning-color);
        }

        /* Table Styles */
        .table-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 20px;
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .table-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: var(--primary-color);
        }

        tr:hover {
            background-color: #f8f9fa;
        }

        .badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge-success {
            background-color: rgba(46, 204, 113, 0.2);
            color: var(--success-color);
        }

        .badge-warning {
            background-color: rgba(243, 156, 18, 0.2);
            color: var(--warning-color);
        }

        .badge-danger {
            background-color: rgba(231, 76, 60, 0.2);
            color: var(--danger-color);
        }

        /* Chart Styles */
        .chart-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 20px;
            margin-bottom: 30px;
        }

        .chart-placeholder {
            height: 300px;
            background-color: #f8f9fa;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-size: 16px;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
            }
            
            .menu-item span {
                display: none;
            }
            
            .main-content {
                margin-left: 70px;
            }
            
            .card-container {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 0;
                overflow: hidden;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .card-container {
                grid-template-columns: 1fr;
            }
            
            .header {
                padding: 15px 20px;
            }
            
            .subtitle {
                display: none;
            }
        }
    </style>
    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <h1>H·ªÜ TH·ªêNG QU·∫¢N L√ù D·∫†Y TH√äM H·ªåC TH√äM - TMS</h1>
            <p class="subtitle">Tutor Management System - Qu·∫£n l√Ω chuy√™n nghi·ªáp theo Th√¥ng t∆∞ 29</p>
        </div>
        <div class="user-info">
            <span>Xin ch√†o, <b id="user-display-name">Qu·∫£n tr·ªã vi√™n</b></span>
            <div class="user-avatar" id="user-avatar">üë§</div>
        </div>
    </header>

    <!-- Sidebar -->
    <nav class="sidebar">
        <ul class="sidebar-menu">
            <li class="menu-item active" data-target="dashboard">
                <i>üìä</i>
                <span>B·∫£ng ƒêi·ªÅu Khi·ªÉn</span>
            </li>
            <li class="menu-item" data-target="teachers">
                <i>üë®‚Äçüè´</i>
                <span>Qu·∫£n l√Ω Gi√°o Vi√™n</span>
            </li>
            <li class="menu-item" data-target="students">
                <i>üë®‚Äçüéì</i>
                <span>Qu·∫£n l√Ω H·ªçc Sinh</span>
            </li>
            <li class="menu-item" data-target="classes">
                <i>üè´</i>
                <span>Qu·∫£n l√Ω L·ªõp H·ªçc</span>
            </li>
            <li class="menu-item" data-target="fees">
                <i>üí∞</i>
                <span>Qu·∫£n l√Ω H·ªçc Ph√≠</span>
            </li>
            <li class="menu-item" data-target="reports">
                <i>üìà</i>
                <span>B√°o C√°o & Th·ªëng k√™</span>
            </li>
            <li class="menu-item" data-target="settings">
                <i>‚öôÔ∏è</i>
                <span>C√†i ƒê·∫∑t H·ªá Th·ªëng</span>
            </li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section active">
            <div class="page-title">
                <h1>B·∫£ng ƒêi·ªÅu Khi·ªÉn</h1>
                <div>H√¥m nay: <span id="current-date"></span></div>
            </div>

            <div class="card-container">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">T·ªïng s·ªë gi√°o vi√™n</div>
                        <div class="card-icon bg-primary">üë®‚Äçüè´</div>
                    </div>
                    <div class="card-value" id="total-teachers">--</div>
                    <div class="card-footer">ƒê√£ ph√™ duy·ªát: <span id="approved-teachers">--</span></div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">T·ªïng s·ªë h·ªçc sinh</div>
                        <div class="card-icon bg-secondary">üë®‚Äçüéì</div>
                    </div>
                    <div class="card-value" id="total-students">--</div>
                    <div class="card-footer">ƒêang h·ªçc: <span id="active-students">--</span></div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">T·ªïng s·ªë l·ªõp h·ªçc</div>
                        <div class="card-icon bg-accent">üè´</div>
                    </div>
                    <div class="card-value" id="total-classes">--</div>
                    <div class="card-footer">ƒêang ho·∫°t ƒë·ªông: <span id="active-classes">--</span></div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Doanh thu th√°ng</div>
                        <div class="card-icon bg-warning">üí∞</div>
                    </div>
                    <div class="card-value" id="monthly-revenue">-- VNƒê</div>
                    <div class="card-footer">So v·ªõi th√°ng tr∆∞·ªõc: <span id="revenue-change">--%</span></div>
                </div>
            </div>

            <div class="chart-container">
                <h2 class="table-title">Th·ªëng K√™ L·ªõp H·ªçc M·ªõi Theo Th√°ng</h2>
                <div class="chart-placeholder" id="class-chart">
                    Bi·ªÉu ƒë·ªì th·ªëng k√™ l·ªõp h·ªçc s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y
                </div>
            </div>

            <div class="table-container">
                <h2 class="table-title">L·ªõp H·ªçc M·ªõi C·∫ßn Ph√™ Duy·ªát</h2>
                <table id="pending-classes-table">
                    <thead>
                        <tr>
                            <th>T√™n l·ªõp</th>
                            <th>Gi√°o vi√™n</th>
                            <th>M√¥n h·ªçc</th>
                            <th>Ng√†y t·∫°o</th>
                            <th>Tr·∫°ng th√°i</th>
                            <th>H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Other Sections (initially hidden) -->
        <section id="teachers" class="content-section">
            <div class="page-title">
                <h1>Qu·∫£n l√Ω Gi√°o Vi√™n</h1>
            </div>
            <div class="table-container">
                <p>N·ªôi dung qu·∫£n l√Ω gi√°o vi√™n s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y</p>
            </div>
        </section>

        <section id="students" class="content-section">
            <div class="page-title">
                <h1>Qu·∫£n l√Ω H·ªçc Sinh</h1>
            </div>
            <div class="table-container">
                <p>N·ªôi dung qu·∫£n l√Ω h·ªçc sinh s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y</p>
            </div>
        </section>

        <section id="classes" class="content-section">
            <div class="page-title">
                <h1>Qu·∫£n l√Ω L·ªõp H·ªçc</h1>
            </div>
            <div class="table-container">
                <p>N·ªôi dung qu·∫£n l√Ω l·ªõp h·ªçc s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y</p>
            </div>
        </section>

        <section id="fees" class="content-section">
            <div class="page-title">
                <h1>Qu·∫£n l√Ω H·ªçc Ph√≠</h1>
            </div>
            <div class="table-container">
                <p>N·ªôi dung qu·∫£n l√Ω h·ªçc ph√≠ s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y</p>
            </div>
        </section>

        <section id="reports" class="content-section">
            <div class="page-title">
                <h1>B√°o C√°o & Th·ªëng k√™</h1>
            </div>
            <div class="table-container">
                <p>N·ªôi dung b√°o c√°o v√† th·ªëng k√™ s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y</p>
            </div>
        </section>

        <section id="settings" class="content-section">
            <div class="page-title">
                <h1>C√†i ƒê·∫∑t H·ªá Th·ªëng</h1>
            </div>
            <div class="table-container">
                <p>N·ªôi dung c√†i ƒë·∫∑t h·ªá th·ªëng s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y</p>
            </div>
        </section>
    </main>

    <script>
        // ================================
        // QU·∫¢N L√ù TH√îNG TIN NG∆Ø·ªúI D√ôNG
        // ================================

        // H√†m l·∫•y t√™n vi·∫øt t·∫Øt t·ª´ t√™n ƒë·∫ßy ƒë·ªß
        function getAbbreviatedName(fullName) {
            if (!fullName || fullName.trim() === '') return '';
            
            const names = fullName.trim().split(' ');
            if (names.length === 0) return '';
            
            if (names.length === 1) {
                return names[0].charAt(0).toUpperCase();
            }
            
            // L·∫•y ch·ªØ c√°i ƒë·∫ßu c·ªßa t·ª´ ƒë·∫ßu v√† t·ª´ cu·ªëi
            const firstName = names[0];
            const lastName = names[names.length - 1];
            return (firstName.charAt(0) + lastName.charAt(0)).toUpperCase();
        }

        // H√†m c·∫≠p nh·∫≠t th√¥ng tin ng∆∞·ªùi d√πng
        function updateUserInfo() {
            // L·∫•y th√¥ng tin ng∆∞·ªùi d√πng t·ª´ localStorage (ho·∫∑c t·ª´ API/session)
            const userData = getUserData();
            
            if (userData && userData.fullName) {
                // C·∫≠p nh·∫≠t t√™n hi·ªÉn th·ªã
                document.getElementById('user-display-name').textContent = userData.fullName;
                
                // C·∫≠p nh·∫≠t avatar v·ªõi t√™n vi·∫øt t·∫Øt
                const abbreviatedName = getAbbreviatedName(userData.fullName);
                document.getElementById('user-avatar').textContent = abbreviatedName;
            } else {
                // N·∫øu kh√¥ng c√≥ th√¥ng tin, hi·ªÉn th·ªã bi·ªÉu t∆∞·ª£ng avatar m·∫∑c ƒë·ªãnh
                document.getElementById('user-avatar').textContent = 'üë§';
                document.getElementById('user-display-name').textContent = 'Qu·∫£n tr·ªã vi√™n';
            }
        }

        // H√†m l·∫•y th√¥ng tin ng∆∞·ªùi d√πng t·ª´ localStorage/sessionStorage
        function getUserData() {
            // ∆Øu ti√™n l·∫•y t·ª´ localStorage tr∆∞·ªõc
            const userData = localStorage.getItem('currentUser');
            if (userData) {
                return JSON.parse(userData);
            }
            
            // N·∫øu kh√¥ng c√≥ trong localStorage, th·ª≠ l·∫•y t·ª´ sessionStorage
            const sessionUserData = sessionStorage.getItem('currentUser');
            if (sessionUserData) {
                return JSON.parse(sessionUserData);
            }
            
            return null;
        }

        // H√†m l∆∞u th√¥ng tin ng∆∞·ªùi d√πng (ƒë·ªÉ t√≠ch h·ª£p v·ªõi API ƒëƒÉng nh·∫≠p)
        function saveUserData(userData) {
            if (userData) {
                localStorage.setItem('currentUser', JSON.stringify(userData));
                // Ho·∫∑c s·ª≠ d·ª•ng sessionStorage n·∫øu mu·ªën
                // sessionStorage.setItem('currentUser', JSON.stringify(userData));
                
                // C·∫≠p nh·∫≠t giao di·ªán ngay l·∫≠p t·ª©c
                updateUserInfo();
            }
        }

        // H√†m x√≥a th√¥ng tin ng∆∞·ªùi d√πng (ƒë·ªÉ t√≠ch h·ª£p v·ªõi API ƒëƒÉng xu·∫•t)
        function clearUserData() {
            localStorage.removeItem('currentUser');
            sessionStorage.removeItem('currentUser');
            
            // C·∫≠p nh·∫≠t giao di·ªán v·ªÅ tr·∫°ng th√°i m·∫∑c ƒë·ªãnh
            updateUserInfo();
            
            // C√≥ th·ªÉ chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang ƒëƒÉng nh·∫≠p
            // window.location.href = '/login.html';
        }

        // ================================
        // X·ª¨ L√ù GIAO DI·ªÜN V√Ä DASHBOARD
        // ================================

        // Kh·ªüi t·∫°o ng√†y hi·ªán t·∫°i
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('vi-VN');

        // X·ª≠ l√Ω chuy·ªÉn ƒë·ªïi gi·ªØa c√°c ph·∫ßn
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function() {
                // X√≥a l·ªõp active t·ª´ t·∫•t c·∫£ c√°c m·ª•c menu
                document.querySelectorAll('.menu-item').forEach(i => {
                    i.classList.remove('active');
                });
                
                // Th√™m l·ªõp active cho m·ª•c ƒë∆∞·ª£c ch·ªçn
                this.classList.add('active');
                
                // ·∫®n t·∫•t c·∫£ c√°c ph·∫ßn n·ªôi dung
                document.querySelectorAll('.content-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Hi·ªÉn th·ªã ph·∫ßn n·ªôi dung t∆∞∆°ng ·ª©ng
                const targetId = this.getAttribute('data-target');
                document.getElementById(targetId).classList.add('active');
            });
        });

        // H√†m g·ªçi API th·ª±c t·∫ø - Thay th·∫ø b·∫±ng API th·∫≠t
        async function fetchData(endpoint) {
            // V√≠ d·ª•: G·ªçi API th·∫≠t
            // const response = await fetch(`https://your-api.com${endpoint}`, {
            //     headers: {
            //         'Authorization': 'Bearer ' + localStorage.getItem('token')
            //     }
            // });
            // return await response.json();

            // Hi·ªán t·∫°i, ch√∫ng ta kh√¥ng tr·∫£ v·ªÅ d·ªØ li·ªáu m·∫´u, n√™n tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng r·ªóng ho·∫∑c null
            // ƒêi·ªÅu n√†y s·∫Ω khi·∫øn giao di·ªán hi·ªÉn th·ªã -- nh∆∞ ƒë√£ ƒë·ªãnh nghƒ©a ban ƒë·∫ßu
            return null;
        }

        // C·∫≠p nh·∫≠t d·ªØ li·ªáu dashboard
        async function updateDashboard() {
            try {
                // G·ªçi API ƒë·ªÉ l·∫•y th·ªëng k√™
                const stats = await fetchData('/api/dashboard/stats');
                
                if (stats) {
                    // C·∫≠p nh·∫≠t th√¥ng tin th·ªëng k√™ n·∫øu c√≥ d·ªØ li·ªáu
                    document.getElementById('total-teachers').textContent = stats.totalTeachers || '--';
                    document.getElementById('approved-teachers').textContent = stats.approvedTeachers || '--';
                    document.getElementById('total-students').textContent = stats.totalStudents || '--';
                    document.getElementById('active-students').textContent = stats.activeStudents || '--';
                    document.getElementById('total-classes').textContent = stats.totalClasses || '--';
                    document.getElementById('active-classes').textContent = stats.activeClasses || '--';
                    
                    const monthlyRevenue = stats.monthlyRevenue ? stats.monthlyRevenue.toLocaleString('vi-VN') + ' VNƒê' : '-- VNƒê';
                    document.getElementById('monthly-revenue').textContent = monthlyRevenue;
                    
                    const changeElement = document.getElementById('revenue-change');
                    if (stats.revenueChange) {
                        changeElement.textContent = stats.revenueChange + '%';
                        if (stats.revenueChange > 0) {
                            changeElement.style.color = 'var(--success-color)';
                        } else {
                            changeElement.style.color = 'var(--danger-color)';
                        }
                    } else {
                        changeElement.textContent = '--%';
                    }
                }
                
                // G·ªçi API ƒë·ªÉ l·∫•y danh s√°ch l·ªõp ch·ªù duy·ªát
                const pendingClasses = await fetchData('/api/classes/pending');
                const tableBody = document.querySelector('#pending-classes-table tbody');
                tableBody.innerHTML = '';
                
                if (pendingClasses && pendingClasses.length > 0) {
                    pendingClasses.forEach(cls => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${cls.name}</td>
                            <td>${cls.teacher}</td>
                            <td>${cls.subject}</td>
                            <td>${cls.createdDate}</td>
                            <td><span class="badge badge-warning">Ch·ªù duy·ªát</span></td>
                            <td>
                                <button class="btn-approve" data-id="${cls.id}">Duy·ªát</button>
                                <button class="btn-reject" data-id="${cls.id}">T·ª´ ch·ªëi</button>
                            </td>
                        `;
                        tableBody.appendChild(row);
                    });
                    
                    // Th√™m s·ª± ki·ªán cho c√°c n√∫t
                    document.querySelectorAll('.btn-approve').forEach(btn => {
                        btn.addEventListener('click', function() {
                            const classId = this.getAttribute('data-id');
                            approveClass(classId);
                        });
                    });
                    
                    document.querySelectorAll('.btn-reject').forEach(btn => {
                        btn.addEventListener('click', function() {
                            const classId = this.getAttribute('data-id');
                            rejectClass(classId);
                        });
                    });
                } else {
                    // Hi·ªÉn th·ªã th√¥ng b√°o n·∫øu kh√¥ng c√≥ l·ªõp n√†o ch·ªù duy·ªát
                    const row = document.createElement('tr');
                    row.innerHTML = `<td colspan="6" style="text-align: center;">Kh√¥ng c√≥ l·ªõp h·ªçc n√†o ch·ªù duy·ªát</td>`;
                    tableBody.appendChild(row);
                }
                
            } catch (error) {
                console.error('L·ªói khi t·∫£i d·ªØ li·ªáu dashboard:', error);
            }
        }

        // H√†m x·ª≠ l√Ω ph√™ duy·ªát l·ªõp h·ªçc
        async function approveClass(classId) {
            try {
                // G·ªçi API ƒë·ªÉ ph√™ duy·ªát l·ªõp h·ªçc
                // await fetchData(`/api/classes/${classId}/approve`, 'POST');
                console.log(`ƒê√£ ph√™ duy·ªát l·ªõp h·ªçc c√≥ ID: ${classId}`);
                alert(`ƒê√£ ph√™ duy·ªát l·ªõp h·ªçc c√≥ ID: ${classId}`);
                updateDashboard(); // C·∫≠p nh·∫≠t l·∫°i d·ªØ li·ªáu
            } catch (error) {
                console.error('L·ªói khi ph√™ duy·ªát l·ªõp h·ªçc:', error);
            }
        }

        // H√†m x·ª≠ l√Ω t·ª´ ch·ªëi l·ªõp h·ªçc
        async function rejectClass(classId) {
            try {
                // G·ªçi API ƒë·ªÉ t·ª´ ch·ªëi l·ªõp h·ªçc
                // await fetchData(`/api/classes/${classId}/reject`, 'POST');
                console.log(`ƒê√£ t·ª´ ch·ªëi l·ªõp h·ªçc c√≥ ID: ${classId}`);
                alert(`ƒê√£ t·ª´ ch·ªëi l·ªõp h·ªçc c√≥ ID: ${classId}`);
                updateDashboard(); // C·∫≠p nh·∫≠t l·∫°i d·ªØ li·ªáu
            } catch (error) {
                console.error('L·ªói khi t·ª´ ch·ªëi l·ªõp h·ªçc:', error);
            }
        }

        // ================================
        // KH·ªûI T·∫†O ·ª®NG D·ª§NG
        // ================================

        // Kh·ªüi t·∫°o ·ª©ng d·ª•ng khi trang ƒë∆∞·ª£c t·∫£i
        document.addEventListener('DOMContentLoaded', function() {
            // C·∫≠p nh·∫≠t th√¥ng tin ng∆∞·ªùi d√πng
            updateUserInfo();
            
            // C·∫≠p nh·∫≠t dashboard
            updateDashboard();
            
            // Thi·∫øt l·∫≠p l√†m m·ªõi d·ªØ li·ªáu m·ªói 30 gi√¢y (t√πy ch·ªçn)
            // setInterval(updateDashboard, 30000);
        });

        // ================================
        // API ƒê·ªÇ T√çCH H·ª¢P V·ªöI PH·∫¶N ƒêƒÇNG NH·∫¨P
        // ================================

        // ƒê·ªÉ c√°c th√†nh vi√™n kh√°c c√≥ th·ªÉ t√≠ch h·ª£p, cung c·∫•p c√°c h√†m global
        window.userManager = {
            updateUserInfo: updateUserInfo,
            saveUserData: saveUserData,
            clearUserData: clearUserData,
            getUserData: getUserData
        };
    </script>
</body>
</html>